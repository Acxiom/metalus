{"pkgs":["com.acxiom.gcp.steps"],"steps":[{"id":"3a91eee5-95c1-42dd-9c30-6edc0f9de1ca","displayName":"Load BigQuery Table","description":"This step will read a DataFrame from a BigQuery table","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"table","required":true,"parameterType":"String","description":"The BigQuery table name to load data"},{"type":"text","name":"credentials","required":false,"parameterType":"Map[String,String]","description":"Optional credentials map"},{"type":"object","name":"options","required":false,"className":"com.acxiom.pipeline.steps.DataFrameReaderOptions","parameterType":"com.acxiom.pipeline.steps.DataFrameReaderOptions","description":"The optional DataFrame Options"}],"engineMeta":{"spark":"BigQuerySteps.readFromTable","pkg":"com.acxiom.gcp.steps","results":{"primaryType":"org.apache.spark.sql.DataFrame"}},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]},{"id":"5b6e114b-51bb-406f-a95a-2a07bc0d05c7","displayName":"Write BigQuery Table","description":"This step will write a DataFrame to a BigQuery table","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"dataFrame","required":true,"parameterType":"org.apache.spark.sql.DataFrame","description":"The DataFrame to write"},{"type":"text","name":"table","required":true,"parameterType":"String","description":"The BigQuery table to write data"},{"type":"text","name":"tempBucket","required":true,"parameterType":"String","description":"The GCS path to write temp data"},{"type":"text","name":"credentials","required":false,"parameterType":"Map[String,String]","description":"Optional credentials map"},{"type":"object","name":"options","required":false,"className":"com.acxiom.pipeline.steps.DataFrameWriterOptions","parameterType":"com.acxiom.pipeline.steps.DataFrameWriterOptions","description":"The optional DataFrame Options"}],"engineMeta":{"spark":"BigQuerySteps.writeToTable","pkg":"com.acxiom.gcp.steps"},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]},{"id":"451d4dc8-9bce-4cb4-a91d-1a09e0efd9b8","displayName":"Write DataFrame to a PubSub Topic","description":"This step will write a DataFrame to a PubSub Topic","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"dataFrame","required":true,"parameterType":"org.apache.spark.sql.DataFrame","description":"The DataFrame to post to the Pub/Sub topic"},{"type":"text","name":"topicName","required":true,"parameterType":"String","description":"The topic within the Pub/Sub"},{"type":"text","name":"separator","required":false,"parameterType":"String","description":"The separator character to use when combining the column data"},{"type":"text","name":"credentials","required":false,"parameterType":"Map[String,String]","description":"The optional credentials to use for Pub/Sub access"}],"engineMeta":{"spark":"PubSubSteps.writeToStreamWithCredentials","pkg":"com.acxiom.gcp.steps"},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]},{"id":"aaa880e1-4190-4ffe-9fda-4150680f17c9","displayName":"Write DataFrame to a PubSub Topic Using Global Credentials","description":"This step will write a DataFrame to a PubSub Topic using the CredentialProvider to get Credentials","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"dataFrame","required":true,"parameterType":"org.apache.spark.sql.DataFrame","description":"The DataFrame to post to the Pub/Sub topic"},{"type":"text","name":"topicName","required":true,"parameterType":"String","description":"The topic within the Pub/Sub"},{"type":"text","name":"separator","required":false,"parameterType":"String","description":"The separator character to use when combining the column data"}],"engineMeta":{"spark":"PubSubSteps.writeToStream","pkg":"com.acxiom.gcp.steps"},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]},{"id":"2c937e74-8735-46d6-abfe-0c040ae8f435","displayName":"Write a single message to a PubSub Topic Using Provided Credentials","description":"This step will write a DataFrame to a PubSub Topic using the providedt Credentials","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"message","required":true,"parameterType":"String","description":"The message to post to the Pub/Sub topic"},{"type":"text","name":"topicName","required":true,"parameterType":"String","description":"The topic within the Pub/Sub"},{"type":"text","name":"credentials","required":false,"parameterType":"Map[String,String]","description":"The optional credentials to use when posting"}],"engineMeta":{"spark":"PubSubSteps.postMessage","pkg":"com.acxiom.gcp.steps"},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]},{"id":"b359130d-8e11-44e4-b552-9cef6150bc2b","displayName":"Write a single message to a PubSub Topic Using Global Credentials","description":"This step will write a message to a PubSub Topic using the CredentialProvider to get Credentials","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"message","required":true,"parameterType":"String","description":"The message to post to the Pub/Sub topic"},{"type":"text","name":"topicName","required":true,"parameterType":"String","description":"The topic within the Pub/Sub"}],"engineMeta":{"spark":"PubSubSteps.postMessage","pkg":"com.acxiom.gcp.steps"},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]},{"id":"1bc6e2b3-6513-4763-b441-4c136a51daa8","displayName":"Load DataFrame from GCS path","description":"This step will read a DataFrame from the given GCS path","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"path","required":true,"parameterType":"String","description":"The GCS path to load data"},{"type":"text","name":"credentials","required":false,"parameterType":"Map[String,String]","description":"Optional credentials map"},{"type":"object","name":"options","required":false,"className":"com.acxiom.pipeline.steps.DataFrameReaderOptions","parameterType":"com.acxiom.pipeline.steps.DataFrameReaderOptions","description":"The optional DataFrame Options"}],"engineMeta":{"spark":"GCSSteps.readFromPath","pkg":"com.acxiom.gcp.steps","results":{"primaryType":"org.apache.spark.sql.DataFrame"}},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]},{"id":"bee8b059-9be5-45b9-8fa5-dd58bb5114ee","displayName":"Load DataFrame from GCS paths","description":"This step will read a DataFrame from the given GCS paths","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"paths","required":true,"parameterType":"List[String]","description":"The GCS paths to load data"},{"type":"text","name":"credentials","required":false,"parameterType":"Map[String,String]","description":"Optional credentials map"},{"type":"object","name":"options","required":false,"className":"com.acxiom.pipeline.steps.DataFrameReaderOptions","parameterType":"com.acxiom.pipeline.steps.DataFrameReaderOptions","description":"The optional DataFrame Options"}],"engineMeta":{"spark":"GCSSteps.readFromPaths","pkg":"com.acxiom.gcp.steps","results":{"primaryType":"org.apache.spark.sql.DataFrame"}},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]},{"id":"1d1ff5ad-379f-4dfa-9403-019a0eb0032c","displayName":"Write DataFrame to GCS","description":"This step will write a DataFrame in a given format to GCS","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"dataFrame","required":true,"parameterType":"org.apache.spark.sql.DataFrame","description":"The DataFrame to write"},{"type":"text","name":"path","required":true,"parameterType":"String","description":"The GCS path to write data"},{"type":"text","name":"credentials","required":false,"parameterType":"Map[String,String]","description":"Optional credentials map"},{"type":"object","name":"options","required":false,"className":"com.acxiom.pipeline.steps.DataFrameWriterOptions","parameterType":"com.acxiom.pipeline.steps.DataFrameWriterOptions","description":"The optional DataFrame Options"}],"engineMeta":{"spark":"GCSSteps.writeToPath","pkg":"com.acxiom.gcp.steps"},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]},{"id":"2827de67-26c0-4719-be57-6fc5f7af17c7","displayName":"Create GCS FileManager","description":"Simple function to generate the GCSFileManager for a GCS file system","type":"Pipeline","category":"GCP","params":[{"type":"text","name":"projectId","required":true,"parameterType":"String","description":"The projectId for the GCS bucket"},{"type":"text","name":"bucket","required":true,"parameterType":"String","description":"The GCS bucket"},{"type":"text","name":"credentials","required":true,"parameterType":"Map[String,String]","description":"Optional credentials map"}],"engineMeta":{"spark":"GCSSteps.createFileManager","pkg":"com.acxiom.gcp.steps","results":{"primaryType":"com.acxiom.gcp.fs.GCSFileManager"}},"tags":["metalus-gcp_2.11-spark_2.4-1.9.2.jar"]}],"pkgObjs":[{"id":"com.acxiom.pipeline.steps.DataFrameReaderOptions","schema":"{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"title\":\"Data Frame Reader Options\",\"type\":\"object\",\"additionalProperties\":false,\"properties\":{\"format\":{\"type\":\"string\"},\"options\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"string\"}},\"schema\":{\"$ref\":\"#/definitions/Schema\"},\"streaming\":{\"type\":\"boolean\"}},\"required\":[\"streaming\"],\"definitions\":{\"Schema\":{\"type\":\"object\",\"additionalProperties\":false,\"properties\":{\"attributes\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Attribute\"}}}},\"Attribute\":{\"type\":\"object\",\"additionalProperties\":false,\"properties\":{\"name\":{\"type\":\"string\"},\"dataType\":{\"$ref\":\"#/definitions/AttributeType\"},\"nullable\":{},\"metadata\":{\"type\":\"object\",\"additionalProperties\":{}}}},\"AttributeType\":{\"type\":\"object\",\"additionalProperties\":false,\"properties\":{\"baseType\":{\"type\":\"string\"},\"valueType\":{\"$ref\":\"#/definitions/AttributeType\"},\"nameType\":{\"$ref\":\"#/definitions/AttributeType\"},\"schema\":{\"$ref\":\"#/definitions/Schema\"}}}}}"},{"id":"com.acxiom.pipeline.steps.DataFrameWriterOptions","schema":"{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"title\":\"Data Frame Writer Options\",\"type\":\"object\",\"additionalProperties\":false,\"properties\":{\"format\":{\"type\":\"string\"},\"saveMode\":{\"type\":\"string\"},\"options\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"string\"}},\"bucketingOptions\":{\"$ref\":\"#/definitions/BucketingOptions\"},\"partitionBy\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sortBy\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"definitions\":{\"BucketingOptions\":{\"type\":\"object\",\"additionalProperties\":false,\"properties\":{\"numBuckets\":{\"type\":\"integer\"},\"columns\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"numBuckets\"]}}}"}]}
