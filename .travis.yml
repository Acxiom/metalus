language: scala

scala:
- 2.11.12

jobs:
  include:
  - stage: test
    matrix:
      include:
      - os: linux
      - os: osx
        osx_image: xcode9.3
    script: mvn clean install
  - stage: deploy
    if: branch = master
    os: linux
    script: mvn -DrepoToken=$coverallsToken clean scoverage:report install scala:doc scalastyle:check coveralls:report
